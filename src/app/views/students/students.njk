{% extends "layout.njk" %}

    {% block head %}
        <title>Community</title>
    {% endblock %}

{% block content %}
   <div class="card-students table-container">
       <div class="header">
           <a href="/students/create" class="button">New</a>

           <form action="/students" method="GET">
                <input type="text" name="filter" placeholder="Nome ou Email" value="{{ filter }}">
                <button type="submit">Filtrar</button>
           </form>
       </div>
       <table width="100%">
           <thead>
               <tr>
                   <th>Student</th>
                   <th>Email</th>
                   <th>School Year</th>
                   <th>Action</th>
               </tr>
           </thead>

           <tbody>
             {% for student in students %}
               <tr>
                   <td><span style="background-image: url({{ student.avatar_url }})"></span>{{ student.name }}</td>
                   <td>{{ student.email }}</td>
                   <td>{{ student.school_year }}</td>
                   <td><a href="/students/{{ student.id }}">View</a></td>
               </tr>
             {% endfor %}
           </tbody>
       </table>

       <div class="pagination" data-page={{pagination.page}} data-total={{pagination.total}} data-filter={{filter}}></div>

   </div>
{% endblock %}